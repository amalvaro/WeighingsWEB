
<div class="container">
  <div class="row">
      <div class="col-sm-6">
        <h4 id="tableLabel" class="margin-top-25px">
          Журнал взвешиваний
        </h4>
        <h6 *ngIf="currentPage && data">Страница {{currentPage}}</h6>
      </div>
      <div class="col-sm-6 text-right">
        <!-- dropdownToggle -->
        <div class="btn-group margin-top-25px"  dropdown>
          <button id="button-basic" type="button" dropdownToggle class="btn btn-secondary dropdown-toggle"
                  aria-controls="dropdown-basic">
            Фильтр <span class="caret"></span>
          </button>
          <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu "
              role="menu" aria-labelledby="button-basic">

            <li><label class="checkbox"><input type="checkbox" class="margin-10px">One</label></li>
            <li><label class="checkbox"><input type="checkbox" class="margin-10px">Two</label></li>

          </ul>
        </div>

      </div>
    </div>
</div>

<modal-picture *ngIf="currentModalPicture" dialog-name="picture-modal"
               picture-link="data:image/jpeg;base64,{{currentModalPicture.imageData}}"
               title="Просмотр изображений"></modal-picture>

<div class="full-height margin-top-10p flex-center" *ngIf="!data">
  <img src="./assets/images/loading.gif" height="150" />
</div>

<div class="block-overflow" *ngIf="data">
  <table class='table table-striped ' aria-labelledby="tableLabel">
    <thead>
      <tr>
        <th>Изображения</th>
        <th>Дата / время</th>
        <th>Вес</th>
        <th>Тип</th>
        <th>Предыдущее</th>
        <th>Пред. вес</th>
        <th>Нетто</th>
        <th>ГРЗ ТС</th>
        <th>Владелец ТС</th>
        <th>ГРЗ прицепа</th>
      </tr>
    </thead>

    <!-- Лимит в 5 записей -->

    <tbody>
      <tr *ngFor="let log of data.response; let currentElement = index">
        <td class="text-center">
          <!-- <weighing-slider [weighing-picture-array]="log.weighingImages" picture-size="150" slider-name="logInfoSlider"></weighing-slider>-->

        </td>
        <td>  {{ log.timeStamp | date:'MM/dd/yyyy h:mm:ss'}}</td>
        <td>  {{ log.weight }}</td>
        <td>  {{ log.type == 0 ? 'порожнее' : 'груженое' }} </td>
        <td>  {{ log.previousWeighing == null ? ('—') : (log.previousWeighing.timeStamp | date:'MM/dd/yyyy h:mm:ss') }}</td>
        <td>  {{ log.previousWeighing == null ? ('—') : (log.previousWeighing.weight) }} </td>
        <td>  {{ log.previousWeighing == null ? ('—') : (log.weight-log.previousWeighing.weight) }} </td>
        <td>  {{ log.vehiclePlate }}</td>
        <td>  {{ log.vehicle.owner == null ? ('—') : (log.vehicle.owner) }} </td>
        <td>  {{ log.trailerPlate == null ? ('—') : (log.trailerPlate) }} </td>
      </tr>
    </tbody>

  </table>
</div>

<div *ngIf="data">
  <div class="navigation">

    <!-- Если на данный момент в списке страниц нет 1-ой страницы - показываем кнопку назад  -->
    <a *ngIf="isShowPrevButton" [routerLink]="['/weighinglog-data', currentPageArrayNumbers[0] - 1]" (click)="UpdatePrevPageNumber(currentPageArrayNumbers[0] - 1)">Назад</a>

    <!-- Номера страниц -->
    <a [routerLink]="['/weighinglog-data', pageNumber]"
       (click)="UpdateContent(pageNumber)"
       *ngFor="let pageNumber of currentPageArrayNumbers">{{pageNumber}}</a>

    <!--Кнопка дальше -->

    <a *ngIf="!isThisFinishPage" [routerLink]="['/weighinglog-data', lastPageNumber]"
       (click)="UpdateNextPageNumber(lastPageNumber)">Дальше</a>


  </div>
</div>

